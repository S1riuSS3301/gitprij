{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saefs/Downloads/vds-hub/vds-hub/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line no-var\r\n  var prisma: PrismaClient | undefined\r\n}\r\n\r\nexport const prisma: PrismaClient = global.prisma ?? new PrismaClient()\r\n\r\nif (process.env.NODE_ENV !== \"production\") {\r\n  global.prisma = prisma\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;AAAA;;AAOO,MAAM,SAAuB,OAAO,MAAM,IAAI,IAAI,6IAAY;AAErE,wCAA2C;IACzC,OAAO,MAAM,GAAG;AAClB","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saefs/Downloads/vds-hub/vds-hub/lib/storage.ts"],"sourcesContent":["// Local storage utilities for data persistence\nconst STORAGE_KEYS = {\n  USER: \"vds_hub_user\",\n  USERS: \"vds_hub_users\",\n  SERVERS: \"vds_hub_servers\",\n  TRANSACTIONS: \"vds_hub_transactions\",\n  ACTIVITY_LOGS: \"vds_hub_activity_logs\",\n  PROMO_CODES: \"vds_hub_promo_codes\",\n  REFERRALS: \"vds_hub_referrals\",\n  SUPPORT_TICKETS: \"vds_hub_support_tickets\",\n}\n\nexport const storage = {\n  get: (key: string): any | null => {\n    if (typeof window === \"undefined\") return null\n    const item = localStorage.getItem(key)\n    return item ? JSON.parse(item) : null\n  },\n\n  set: (key: string, value: any): void => {\n    if (typeof window === \"undefined\") return\n    localStorage.setItem(key, JSON.stringify(value))\n  },\n\n  remove: (key: string): void => {\n    if (typeof window === \"undefined\") return\n    localStorage.removeItem(key)\n  },\n\n  clear: (): void => {\n    if (typeof window === \"undefined\") return\n    localStorage.clear()\n  },\n}\n\nexport const KEYS = STORAGE_KEYS\n"],"names":[],"mappings":"AAAA,+CAA+C;;;;;;;AAC/C,MAAM,eAAe;IACnB,MAAM;IACN,OAAO;IACP,SAAS;IACT,cAAc;IACd,eAAe;IACf,aAAa;IACb,WAAW;IACX,iBAAiB;AACnB;AAEO,MAAM,UAAU;IACrB,KAAK,CAAC;QACJ,wCAAmC,OAAO;;;QAC1C,MAAM;IAER;IAEA,KAAK,CAAC,KAAa;QACjB,wCAAmC;;;IAErC;IAEA,QAAQ,CAAC;QACP,wCAAmC;;;IAErC;IAEA,OAAO;QACL,wCAAmC;;;IAErC;AACF;AAEO,MAAM,OAAO","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saefs/Downloads/vds-hub/vds-hub/lib/auth.ts"],"sourcesContent":["import type { User, ActivityLog } from \"./types\"\nimport { storage, KEYS } from \"./storage\"\n\nexport const auth = {\n  login: (email: string, password: string): User | null => {\n    const users = storage.get<User[]>(KEYS.USERS) || []\n    const user = users.find((u) => u.email === email)\n\n    if (!user) return null\n\n    // Log activity\n    logActivity(user.id, \"login\", \"User logged in\")\n\n    storage.set(KEYS.USER, user)\n    return user\n  },\n\n  register: (email: string, password: string, telegram?: string, referralCode?: string): User | null => {\n    const users = storage.get<User[]>(KEYS.USERS) || []\n\n    // Check if user exists\n    if (users.find((u) => u.email === email)) {\n      return null\n    }\n\n    // Generate referral code\n    const userReferralCode = generateReferralCode()\n\n    const newUser: User = {\n      id: generateId(),\n      email,\n      role: \"user\",\n      balance: 0,\n      registeredAt: new Date().toISOString(),\n      telegram,\n      referralCode: userReferralCode,\n      referredBy: referralCode,\n      totalTopUps: 0,\n    }\n\n    users.push(newUser)\n    storage.set(KEYS.USERS, users)\n\n    // Handle referral\n    if (referralCode) {\n      const referrer = users.find((u) => u.referralCode === referralCode)\n      if (referrer) {\n        const referrals = storage.get<any[]>(KEYS.REFERRALS) || []\n        referrals.push({\n          id: generateId(),\n          referrerId: referrer.id,\n          referredId: newUser.id,\n          earnings: 0,\n          createdAt: new Date().toISOString(),\n        })\n        storage.set(KEYS.REFERRALS, referrals)\n      }\n    }\n\n    // Log activity\n    logActivity(newUser.id, \"register\", \"User registered\")\n\n    storage.set(KEYS.USER, newUser)\n    return newUser\n  },\n\n  logout: (): void => {\n    const user = storage.get<User>(KEYS.USER)\n    if (user) {\n      logActivity(user.id, \"logout\", \"User logged out\")\n    }\n    storage.remove(KEYS.USER)\n  },\n\n  getCurrentUser: (): User | null => {\n    return storage.get<User>(KEYS.USER)\n  },\n\n  updateUser: (updates: Partial<User>): void => {\n    const user = storage.get<User>(KEYS.USER)\n    if (!user) return\n\n    const updatedUser = { ...user, ...updates }\n    storage.set(KEYS.USER, updatedUser)\n\n    // Update in users list\n    const users = storage.get<User[]>(KEYS.USERS) || []\n    const index = users.findIndex((u) => u.id === user.id)\n    if (index !== -1) {\n      users[index] = updatedUser\n      storage.set(KEYS.USERS, users)\n    }\n  },\n}\n\nfunction generateId(): string {\n  return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n}\n\nfunction generateReferralCode(): string {\n  return Math.random().toString(36).substr(2, 8).toUpperCase()\n}\n\nfunction logActivity(userId: string, action: string, details: string): void {\n  const logs = storage.get<ActivityLog[]>(KEYS.ACTIVITY_LOGS) || []\n  logs.push({\n    id: generateId(),\n    userId,\n    action,\n    ip: \"127.0.0.1\", // Mock IP\n    timestamp: new Date().toISOString(),\n    details,\n  })\n  storage.set(KEYS.ACTIVITY_LOGS, logs)\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saefs/Downloads/vds-hub/vds-hub/app/api/transactions/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/prisma'\r\nimport { getCurrentUser } from '@/lib/auth'  // Assuming you have auth to get userId\r\n\r\nexport async function GET() {\r\n  try {\r\n    const user = await getCurrentUser()\r\n    if (!user) {\r\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n    }\r\n\r\n    const transactions = await prisma.transaction.findMany({\r\n      where: { userId: user.id },\r\n      orderBy: { createdAt: 'desc' },\r\n      take: 50,  // Limit to recent\r\n    })\r\n\r\n    return NextResponse.json(transactions)\r\n  } catch (err: any) {\r\n    console.error('Transactions Error:', err)\r\n    return NextResponse.json({ error: err.message }, { status: 500 })\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA,kQAA6C,uCAAuC;;;;AAE7E,eAAe;IACpB,IAAI;QACF,MAAM,OAAO,MAAM,IAAA,wKAAc;QACjC,IAAI,CAAC,MAAM;YACT,OAAO,yLAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAe,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,MAAM,eAAe,MAAM,kKAAM,CAAC,WAAW,CAAC,QAAQ,CAAC;YACrD,OAAO;gBAAE,QAAQ,KAAK,EAAE;YAAC;YACzB,SAAS;gBAAE,WAAW;YAAO;YAC7B,MAAM;QACR;QAEA,OAAO,yLAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,yLAAY,CAAC,IAAI,CAAC;YAAE,OAAO,IAAI,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACjE;AACF","debugId":null}}]
}