(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43531,e=>{"use strict";var r=e.i(78745);e.s(["Check",()=>r.default])},95116,e=>{"use strict";let r=(0,e.i(75254).default)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);e.s(["Wrench",()=>r],95116)},94983,e=>{"use strict";let r=(0,e.i(75254).default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);e.s(["MessageCircle",()=>r],94983)},42307,e=>{"use strict";var r=e.i(43476),a=e.i(18393),s=e.i(95116),t=e.i(94983),l=e.i(61911),i=e.i(60289),d=e.i(61659),n=e.i(47163),o=e.i(22016),c=e.i(18566),u=e.i(24083);function x(){let e=(0,c.usePathname)(),{t:x}=(0,u.useLanguage)(),m=[{icon:i.LayoutDashboard,label:x("dashboard.title"),href:"/dashboard"},{icon:a.Server,label:x("servers.myServers"),href:"/dashboard/servers"},{icon:s.Wrench,label:x("sidebar.myServices"),href:"/dashboard/services"},{icon:d.CreditCard,label:x("dashboard.billing"),href:"/dashboard/billing"},{icon:l.Users,label:x("dashboard.referrals"),href:"/dashboard/referrals"},{icon:t.MessageCircle,label:x("sidebar.support"),href:"/dashboard/support"}];return(0,r.jsx)("aside",{className:"w-64 border-r border-border/50 bg-sidebar/50 backdrop-blur-sm hidden lg:block animate-fade-in",children:(0,r.jsx)("nav",{className:"p-4 space-y-2",children:m.map((a,s)=>{let t=a.icon,l=e===a.href;return(0,r.jsxs)(o.default,{href:a.href,className:(0,n.cn)("group w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 will-change-transform",l?"bg-primary text-primary-foreground shadow-lg glow-effect":"text-muted-foreground hover:bg-secondary hover:text-foreground hover:translate-x-0.5"),children:[(0,r.jsx)(t,{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110"}),(0,r.jsx)("span",{className:"font-medium",children:a.label})]},s)})})})}e.s(["DashboardSidebar",()=>x])},12426,e=>{"use strict";let r=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>r],12426)},25652,e=>{"use strict";let r=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>r],25652)},6839,e=>{"use strict";var r=e.i(43476),a=e.i(61911),s=e.i(12426),t=e.i(25652);let l=(0,e.i(75254).default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var i=e.i(71645),d=e.i(24083);function n(){let[e,n]=(0,i.useState)({totalReferrals:0,totalEarnings:0,avgEarnings:0}),[o,c]=(0,i.useState)(!0),{language:u}=(0,d.useLanguage)();(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/referrals",{cache:"no-store"});if(e.ok){let r=await e.json();n({totalReferrals:r.totalReferrals||0,totalEarnings:r.totalEarnings||0,avgEarnings:r.totalReferrals>0?r.totalEarnings/r.totalReferrals:0})}}catch(e){console.error("Failed to load referral stats:",e)}finally{c(!1)}})()},[]);let x=[{icon:a.Users,label:"ru"===u?"Приглашено пользователей":"Invited Users",value:e.totalReferrals.toString(),change:"ru"===u?"Активные рефералы":"Active referrals",positive:!0},{icon:s.DollarSign,label:"ru"===u?"Заработано всего":"Total Earned",value:`$${e.totalEarnings.toFixed(2)}`,change:"ru"===u?"Всего доходов":"Total income",positive:!0},{icon:t.TrendingUp,label:"ru"===u?"Средний доход":"Average Earnings",value:`$${e.avgEarnings.toFixed(2)}`,change:"ru"===u?"На реферала":"Per referral",positive:!0},{icon:l,label:"ru"===u?"Комиссия":"Commission",value:"10%",change:"ru"===u?"От пополнений рефералов":"From referral top-ups",positive:!0}];return o?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,r.jsxs)("div",{className:"card-gradient rounded-xl p-6 border border-border/50 animate-pulse",children:[(0,r.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/20 mb-4"}),(0,r.jsx)("div",{className:"h-4 w-24 bg-muted/50 rounded mb-2"}),(0,r.jsx)("div",{className:"h-8 w-20 bg-muted/50 rounded"})]},e))}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map((e,a)=>{let s=e.icon;return(0,r.jsxs)("div",{className:"card-gradient rounded-xl p-6 border border-border/50 hover:border-primary/50 transition-all duration-300",children:[(0,r.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-primary/20 flex items-center justify-center",children:(0,r.jsx)(s,{className:"w-6 h-6 text-primary"})})}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.label}),(0,r.jsx)("p",{className:"text-2xl font-bold text-foreground",children:e.value}),(0,r.jsx)("p",{className:`text-xs ${e.positive?"text-green-400":"text-muted-foreground"}`,children:e.change})]})]},a)})})}e.s(["ReferralStats",()=>n],6839)},49740,e=>{"use strict";var r=e.i(43476),a=e.i(67881),s=e.i(23750),t=e.i(75254);let l=(0,t.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var i=e.i(43531);let d=(0,t.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var n=e.i(71645),o=e.i(24083);function c(){let[e,t]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[x,m]=(0,n.useState)(!0),{language:h}=(0,o.useLanguage)();(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/referrals",{cache:"no-store"});if(e.ok){let r=await e.json();u(r.referralCode||"")}}catch(e){console.error("Failed to load referral code:",e)}finally{m(!1)}})()},[]);let g=c?`${window.location.origin}/register?ref=${c}`:"";return(0,r.jsxs)("div",{className:"card-gradient rounded-xl p-6 lg:p-8 border border-border/50",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-primary/20 flex items-center justify-center",children:(0,r.jsx)(d,{className:"w-6 h-6 text-primary"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground mb-1",children:"ru"===h?"Ваша реферальная ссылка":"Your Referral Link"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"ru"===h?"Поделитесь этой ссылкой с друзьями и получайте 10% от их пополнений":"Share this link with friends and earn 10% from their top-ups"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(s.Input,{value:x?"ru"===h?"Загрузка...":"Loading...":g,readOnly:!0,className:"bg-background/50 border-border/50 font-mono text-sm",disabled:x}),(0,r.jsx)(a.Button,{onClick:()=>{g&&(navigator.clipboard.writeText(g),t(!0),setTimeout(()=>t(!1),2e3))},className:"bg-primary hover:bg-primary/90 gap-2 min-w-[120px]",disabled:x||!g,children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Check,{className:"w-4 h-4"}),"ru"===h?"Скопировано":"Copied"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l,{className:"w-4 h-4"}),"ru"===h?"Копировать":"Copy"]})})]}),(0,r.jsx)("div",{className:"mt-6 p-4 rounded-lg bg-primary/10 border border-primary/30",children:(0,r.jsxs)("p",{className:"text-sm text-foreground",children:[(0,r.jsx)("span",{className:"font-semibold",children:"ru"===h?"Как это работает:":"How it works:"})," ","ru"===h?"Когда кто-то регистрируется по вашей ссылке и пополняет баланс, вы получаете 10% от суммы пополнения на свой счет. Выплаты происходят автоматически.":"When someone registers using your link and tops up their balance, you get 10% of the top-up amount credited to your account. Payouts are automatic."]})})]})}e.s(["ReferralLink",()=>c],49740)},42703,e=>{"use strict";var r=e.i(43476),a=e.i(63270),s=e.i(12426),t=e.i(71645),l=e.i(24083);function i(){let[e,i]=(0,t.useState)([]),[d,n]=(0,t.useState)(!0),{language:o}=(0,l.useLanguage)();return((0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/referrals",{cache:"no-store"});if(e.ok){let r=await e.json();i(r.referrals||[])}}catch(e){console.error("Failed to load referrals:",e)}finally{n(!1)}})()},[]),d)?(0,r.jsxs)("div",{className:"card-gradient rounded-xl p-6 border border-border/50",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground mb-6",children:"ru"===o?"Ваши рефералы":"Your Referrals"}),(0,r.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"ru"===o?"Загрузка...":"Loading..."})]}):(0,r.jsxs)("div",{className:"card-gradient rounded-xl p-6 border border-border/50",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground mb-6",children:"ru"===o?"Ваши рефералы":"Your Referrals"}),0===e.length?(0,r.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"ru"===o?"У вас пока нет рефералов":"You don't have any referrals yet"}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-border/50",children:[(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-muted-foreground",children:"ru"===o?"Пользователь":"User"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-muted-foreground",children:"ru"===o?"Дата регистрации":"Registration Date"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-muted-foreground",children:"ru"===o?"Ваш доход":"Your Earnings"})]})}),(0,r.jsx)("tbody",{children:e.map(e=>{let t,l=e.referredUser?.email||e.referredId||"N/A";return(0,r.jsxs)("tr",{className:"border-b border-border/30 hover:bg-background/30 transition-colors",children:[(0,r.jsx)("td",{className:"py-4 px-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(a.Avatar,{className:"w-8 h-8",children:(0,r.jsx)(a.AvatarFallback,{className:"bg-primary/20 text-primary text-xs",children:l.substring(0,2).toUpperCase()})}),(0,r.jsx)("span",{className:"text-sm text-foreground",children:l})]})}),(0,r.jsx)("td",{className:"py-4 px-4 text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("ru"===o?"ru-RU":"en-US")}),(0,r.jsx)("td",{className:"py-4 px-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(s.DollarSign,{className:"w-4 h-4 text-green-400"}),(0,r.jsx)("span",{className:"text-sm font-semibold text-green-400",children:(t=e.earnings,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t))})]})})]},e.id)})})]})})]})}e.s(["ReferralHistory",()=>i])}]);