(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31597,e=>{"use strict";var r=e.i(86051),t=e.i(46040);function a({className:e,type:a,...s}){return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-10 w-full min-w-0 rounded-lg border-2 bg-transparent px-4 py-2.5 text-sm font-medium shadow-sm transition-all outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-semibold disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","focus-visible:border-primary focus-visible:ring-ring/50 focus-visible:ring-[3px] focus-visible:shadow-md","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","hover:border-primary/50",e),...s})}e.s(["Input",()=>a])},41009,15099,e=>{"use strict";var r=e.i(84170);let t=(0,r.default)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);e.s(["Wrench",()=>t],41009);let a=(0,r.default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);e.s(["MessageCircle",()=>a],15099)},87388,e=>{"use strict";var r=e.i(86051),t=e.i(32456),a=e.i(41009),s=e.i(15099),i=e.i(28965),l=e.i(33548),d=e.i(38876),n=e.i(46040),o=e.i(4937),c=e.i(23280),u=e.i(83208);function m(){let e=(0,c.usePathname)(),{t:m}=(0,u.useLanguage)(),b=[{icon:l.LayoutDashboard,label:m("dashboard.title"),href:"/dashboard"},{icon:t.Server,label:m("servers.myServers"),href:"/dashboard/servers"},{icon:a.Wrench,label:m("sidebar.myServices"),href:"/dashboard/services"},{icon:d.CreditCard,label:m("dashboard.billing"),href:"/dashboard/billing"},{icon:i.Users,label:m("dashboard.referrals"),href:"/dashboard/referrals"},{icon:s.MessageCircle,label:m("sidebar.support"),href:"/dashboard/support"}];return(0,r.jsx)("aside",{className:"w-64 border-r border-border/50 bg-sidebar/50 backdrop-blur-sm hidden lg:block animate-fade-in",children:(0,r.jsx)("nav",{className:"p-4 space-y-2",children:b.map((t,a)=>{let s=t.icon,i=e===t.href;return(0,r.jsxs)(o.default,{href:t.href,className:(0,n.cn)("group w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 will-change-transform",i?"bg-primary text-primary-foreground shadow-lg glow-effect":"text-muted-foreground hover:bg-secondary hover:text-foreground hover:translate-x-0.5"),children:[(0,r.jsx)(s,{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110"}),(0,r.jsx)("span",{className:"font-medium",children:t.label})]},a)})})})}e.s(["DashboardSidebar",()=>m])},65615,e=>{"use strict";var r=e.i(86051),t=e.i(47430),a=e.i(31597),s=e.i(88131),i=e.i(7886);let l=(0,e.i(84170).default)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);var d=e.i(4942);function n(){return new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}function o(){let[e,o]=(0,d.useState)([{id:"support-init",sender:"support",text:"Здравствуйте! Чем могу помочь?",time:n()}]),[c,u]=(0,d.useState)(""),[m,b]=(0,d.useState)(!1),[h,p]=(0,d.useState)(null),x=(0,d.useRef)(null);(0,d.useEffect)(()=>{let e=setTimeout(()=>{x.current?.scrollIntoView({behavior:"smooth"})},100);return()=>clearTimeout(e)},[e]);let f=async()=>{if(!c.trim())return;b(!0),p(null);let e={id:`user-${Date.now()}`,sender:"user",text:c.trim(),time:n()};o(r=>[...r,e]),u("");try{let r=await fetch("/api/support-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.text})});if(!r.ok){let e=await r.json().catch(()=>({}));throw Error(e?.error||"Ошибка отправки сообщения на сервер поддержки")}o(e=>[...e,{id:`support-waiting-${Date.now()}`,sender:"support",text:"Спасибо за обращение! Пожалуйста, ожидайте ответа оператора.",time:n()}])}catch(e){p("Не удалось отправить сообщение. Попробуйте ещё раз.")}finally{b(!1)}};return(0,r.jsxs)("div",{className:"card-gradient rounded-xl border border-border/50 flex flex-col h-[600px]",children:[(0,r.jsx)("div",{className:"p-6 border-b border-border/50",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(s.Avatar,{className:"w-10 h-10",children:(0,r.jsx)(s.AvatarFallback,{className:"bg-primary text-primary-foreground",children:"AI"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-foreground",children:"Поддержка VDS_HUB"}),(0,r.jsx)("p",{className:"text-xs text-green-400",children:"Онлайн"})]})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[e.map(e=>(0,r.jsx)("div",{className:`flex ${"user"===e.sender?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:`max-w-[70%] rounded-lg p-3 ${"user"===e.sender?"bg-primary text-primary-foreground":"bg-background/50 border border-border/50 text-foreground"}`,children:[(0,r.jsx)("p",{className:"text-sm",children:e.text}),(0,r.jsx)("p",{className:`text-xs mt-1 ${"user"===e.sender?"text-primary-foreground/70":"text-muted-foreground"}`,children:e.time})]})},e.id)),(0,r.jsx)("div",{ref:x})]}),(0,r.jsxs)("div",{className:"p-4 border-t border-border/50",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(t.Button,{variant:"outline",size:"icon",className:"bg-transparent",tabIndex:-1,type:"button",disabled:!0,children:(0,r.jsx)(l,{className:"w-4 h-4"})}),(0,r.jsx)(a.Input,{placeholder:"Введите сообщение...",value:c,onChange:e=>u(e.target.value),className:"bg-background/50 border-border/50",onKeyDown:e=>{"Enter"===e.key&&c.trim()&&!m&&f()},disabled:m}),(0,r.jsx)(t.Button,{className:"bg-primary hover:bg-primary/90",disabled:!c.trim()||m,onClick:f,type:"button",children:(0,r.jsx)(i.Send,{className:"w-4 h-4"})})]}),h&&(0,r.jsx)("div",{className:"text-xs text-red-500 mt-2",children:h}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Также доступна поддержка в"," ",(0,r.jsx)("a",{href:"https://t.me/vdshub_support",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Telegram"})]})]})]})}e.s(["SupportChat",()=>o],65615)}]);