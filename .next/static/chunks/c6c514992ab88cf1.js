(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31597,e=>{"use strict";var r=e.i(86051),a=e.i(46040);function s({className:e,type:s,...t}){return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-10 w-full min-w-0 rounded-lg border-2 bg-transparent px-4 py-2.5 text-sm font-medium shadow-sm transition-all outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-semibold disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","focus-visible:border-primary focus-visible:ring-ring/50 focus-visible:ring-[3px] focus-visible:shadow-md","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","hover:border-primary/50",e),...t})}e.s(["Input",()=>s])},49594,e=>{"use strict";var r=e.i(86051),a=e.i(4942);e.i(99888);var s=e.i(27007),t=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let i=(0,s.createSlot)(`Primitive.${t}`),o=a.forwardRef((e,a)=>{let{asChild:s,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(s?i:t,{...o,ref:a})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),i=a.forwardRef((e,a)=>(0,r.jsx)(t.label,{...e,ref:a,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var o=e.i(46040);let l=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)(i,{ref:s,className:(0,o.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...a}));l.displayName=i.displayName,e.s(["Label",()=>l],49594)},39074,e=>{"use strict";var r=e.i(16392);e.s(["Check",()=>r.default])},41009,15099,e=>{"use strict";var r=e.i(84170);let a=(0,r.default)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);e.s(["Wrench",()=>a],41009);let s=(0,r.default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);e.s(["MessageCircle",()=>s],15099)},87388,e=>{"use strict";var r=e.i(86051),a=e.i(32456),s=e.i(41009),t=e.i(15099),i=e.i(28965),o=e.i(33548),l=e.i(38876),n=e.i(46040),d=e.i(4937),c=e.i(23280),p=e.i(83208);function m(){let e=(0,c.usePathname)(),{t:m}=(0,p.useLanguage)(),u=[{icon:o.LayoutDashboard,label:m("dashboard.title"),href:"/dashboard"},{icon:a.Server,label:m("servers.myServers"),href:"/dashboard/servers"},{icon:s.Wrench,label:m("sidebar.myServices"),href:"/dashboard/services"},{icon:l.CreditCard,label:m("dashboard.billing"),href:"/dashboard/billing"},{icon:i.Users,label:m("dashboard.referrals"),href:"/dashboard/referrals"},{icon:t.MessageCircle,label:m("sidebar.support"),href:"/dashboard/support"}];return(0,r.jsx)("aside",{className:"w-64 border-r border-border/50 bg-sidebar/50 backdrop-blur-sm hidden lg:block animate-fade-in",children:(0,r.jsx)("nav",{className:"p-4 space-y-2",children:u.map((a,s)=>{let t=a.icon,i=e===a.href;return(0,r.jsxs)(d.default,{href:a.href,className:(0,n.cn)("group w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 will-change-transform",i?"bg-primary text-primary-foreground shadow-lg glow-effect":"text-muted-foreground hover:bg-secondary hover:text-foreground hover:translate-x-0.5"),children:[(0,r.jsx)(t,{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110"}),(0,r.jsx)("span",{className:"font-medium",children:a.label})]},s)})})})}e.s(["DashboardSidebar",()=>m])},53445,e=>{"use strict";var r=e.i(86051),a=e.i(47156),s=e.i(19614),t=e.i(46040);function i({...e}){return(0,r.jsx)(a.Root,{"data-slot":"dialog",...e})}function o({...e}){return(0,r.jsx)(a.Portal,{"data-slot":"dialog-portal",...e})}function l({className:e,...s}){return(0,r.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,t.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function n({className:e,children:i,showCloseButton:n=!0,...d}){return(0,r.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,r.jsx)(l,{}),(0,r.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,t.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[i,n&&(0,r.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,r.jsx)(s.XIcon,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,t.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function c({className:e,...s}){return(0,r.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,t.cn)("text-lg leading-none font-semibold",e),...s})}e.s(["Dialog",()=>i,"DialogContent",()=>n,"DialogHeader",()=>d,"DialogTitle",()=>c])},32884,e=>{"use strict";var r=e.i(86051),a=e.i(64387),s=e.i(32456),t=e.i(83208),i=e.i(91385),o=e.i(4942);function l(){let{t:e,language:l}=(0,t.useLanguage)(),{formatPrice:n,convertPrice:d}=(0,i.useCurrency)(),[c,p]=(0,o.useState)([]),[m,u]=(0,o.useState)([]);return(0,o.useEffect)(()=>{fetch("/api/orders",{cache:"no-store"}).then(e=>e.ok?e.json():[]).then(e=>p(e||[])),fetch("/api/server-plans",{cache:"no-store"}).then(e=>e.ok?e.json():[]).then(e=>u(e||[]))},[]),(0,r.jsxs)("div",{className:"card-gradient rounded-xl p-6 border border-border/50",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground",children:e("servers.myServers")})}),0===c.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(s.Server,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:e("servers.noServers")}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:e("servers.createFirstDesc")})]}):(0,r.jsx)("div",{className:"space-y-4",children:c.map(t=>{let i,o=(i=t.serverPlanId,m.find(e=>e.id===i)),c=Math.ceil((new Date(t.expiresAt).getTime()-Date.now())/864e5);return(0,r.jsxs)("div",{className:"bg-background/30 rounded-lg p-4 border border-border/30 hover:border-primary/50 transition-all",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:(0,r.jsx)(s.Server,{className:"w-5 h-5 text-primary"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-foreground",children:t.serverName}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["192.168.1.",Math.floor(255*Math.random())]})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(a.Badge,{variant:"active"===t.status?"default":"secondary",className:"capitalize",children:"active"===t.status?e("servers.running"):e("servers.stopped")})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e("servers.plan")}),(0,r.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[o?"ru"===l?o.nameRu:o.name:"N/A",o?.cpu&&"Dual EPYC 7702"===o.cpu&&(0,r.jsx)("span",{className:"ml-2 text-[.85em] text-muted-foreground font-normal",children:"(мес/час)"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e("plan.cpu")}),(0,r.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[o?.cores||o?.cpu||"N/A"," ",e("plan.cores")]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e("plan.ram")}),(0,r.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[o?.ram||"N/A"," GB DDR4"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e("plan.storage")}),(0,r.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[o?.storage||"N/A"," GB NVMe"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e("servers.expiresIn")}),(0,r.jsxs)("p",{className:`text-sm font-medium ${c<7?"text-destructive":"text-foreground"}`,children:[c," ",e("servers.days")]})]})]}),(0,r.jsx)("div",{className:"flex items-center justify-between pt-3 border-t border-border/30",children:(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e("servers.paid"),": ",n(d(t.pricePaid))," /"," ",e(`servers.${t.billingPeriod}`)]})})]},t.id)})})]})}e.s(["ServersList",()=>l])},44920,e=>{"use strict";var r=e.i(86051),a=e.i(4942),s=e.i(32884),t=e.i(53445),i=e.i(47430),o=e.i(31597),l=e.i(49594),n=e.i(64387),d=e.i(84170);let c=(0,d.default)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);var p=e.i(32456);let m=(0,d.default)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var u=e.i(39074);let x=(0,d.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var g=e.i(23280),h=e.i(21477),f=e.i(46040);let y=(0,h.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function v({className:e,variant:a,...s}){return(0,r.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,f.cn)(y({variant:a}),e),...s})}function D({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"alert-description",className:(0,f.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...a})}var b=e.i(83208),N=e.i(91385);let j=[{id:"p1",cpu:2,ram:2,ramType:"DDR5",storage:35,storageType:"NVMe",price:6,pricePerHour:.02,name:"2 Cores | 2 GB DDR5 | 35 GB",popular:!1},{id:"p2",cpu:2,ram:4,ramType:"DDR5",storage:55,storageType:"NVMe",price:10,pricePerHour:.03,name:"2 Cores | 4 GB DDR5 | 55 GB",popular:!1},{id:"p3",cpu:4,ram:6,ramType:"DDR5",storage:85,storageType:"NVMe",price:18,pricePerHour:.04,name:"4 Cores | 6 GB DDR5 | 85 GB",popular:!1},{id:"p4",cpu:4,ram:8,ramType:"DDR5",storage:115,storageType:"NVMe",price:23,pricePerHour:.05,name:"4 Cores | 8 GB DDR5 | 115 GB",popular:!1},{id:"p5",cpu:5,ram:10,ramType:"DDR5",storage:155,storageType:"NVMe",price:29,pricePerHour:.07,name:"5 Cores | 10 GB DDR5 | 155 GB",popular:!1},{id:"p6",cpu:6,ram:12,ramType:"DDR5",storage:185,storageType:"NVMe",price:35,pricePerHour:.09,name:"6 Cores | 12 GB DDR5 | 185 GB",popular:!1},{id:"p7",cpu:8,ram:16,ramType:"DDR5",storage:275,storageType:"NVMe",price:49,pricePerHour:.11,name:"8 Cores | 16 GB DDR5 | 275 GB",popular:!1},{id:"p8",cpu:10,ram:20,ramType:"DDR5",storage:325,storageType:"NVMe",price:60,pricePerHour:.13,name:"10 Cores | 20 GB DDR5 | 325 GB",popular:!1},{id:"p9",cpu:12,ram:24,ramType:"DDR5",storage:365,storageType:"NVMe",price:75,pricePerHour:.16,name:"12 Cores | 24 GB DDR5 | 365 GB",popular:!1},{id:"p10",cpu:14,ram:28,ramType:"DDR5",storage:400,storageType:"NVMe",price:88,pricePerHour:.18,name:"14 Cores | 28 GB DDR5 | 400 GB",popular:!1},{id:"p11",cpu:16,ram:32,ramType:"DDR5",storage:500,storageType:"NVMe",price:99,pricePerHour:.2,name:"16 Cores | 32 GB DDR5 | 500 GB",popular:!1},{id:"p12",cpu:2,ram:2,ramType:"DDR4",storage:35,storageType:"NVMe",price:4,pricePerHour:.02,name:"2 Ядра | 2 GB DDR4 | 35 GB",popular:!1},{id:"p13",cpu:2,ram:4,ramType:"DDR4",storage:55,storageType:"NVMe",price:6,pricePerHour:.04,name:"2 Ядра | 4 GB DDR4 | 55 GB",popular:!1},{id:"p14",cpu:3,ram:4,ramType:"DDR4",storage:65,storageType:"NVMe",price:8,pricePerHour:.05,name:"3 Ядра | 4 GB DDR4 | 65 GB",popular:!1},{id:"p15",cpu:4,ram:6,ramType:"DDR4",storage:85,storageType:"NVMe",price:11,pricePerHour:.06,name:"4 Ядра | 6 GB DDR4 | 85 GB",popular:!1},{id:"p16",cpu:4,ram:8,ramType:"DDR4",storage:115,storageType:"NVMe",price:15,pricePerHour:.08,name:"4 Ядра | 8 GB DDR4 | 115 GB",popular:!1},{id:"p17",cpu:5,ram:10,ramType:"DDR4",storage:140,storageType:"NVMe",price:18,pricePerHour:.09,name:"5 Ядер | 10 GB DDR4 | 140 GB",popular:!1},{id:"p18",cpu:6,ram:12,ramType:"DDR4",storage:160,storageType:"NVMe",price:22,pricePerHour:.12,name:"6 Ядер | 12 GB DDR4 | 160 GB",popular:!1},{id:"p19",cpu:8,ram:16,ramType:"DDR4",storage:200,storageType:"NVMe",price:26,pricePerHour:.14,name:"8 Ядер | 16 GB DDR4 | 200 GB",popular:!1},{id:"p20",cpu:10,ram:20,ramType:"DDR4",storage:250,storageType:"NVMe",price:32,pricePerHour:.18,name:"10 Ядер | 20 GB DDR4 | 250 GB",popular:!1},{id:"p21",cpu:12,ram:24,ramType:"DDR4",storage:300,storageType:"NVMe",price:36,pricePerHour:.22,name:"12 Ядер | 24 GB DDR4 | 300 GB",popular:!1},{id:"p22",cpu:14,ram:28,ramType:"DDR4",storage:300,storageType:"NVMe",price:40,pricePerHour:.26,name:"14 Ядер | 28 GB DDR4 | 300 GB",popular:!1},{id:"p23",cpu:16,ram:32,ramType:"DDR4",storage:300,storageType:"NVMe",price:47,pricePerHour:.31,name:"16 Ядер | 32 GB DDR4 | 300 GB",popular:!1},{id:"p24",cpu:20,ram:40,ramType:"DDR4",storage:300,storageType:"NVMe",price:55,pricePerHour:.37,name:"20 Ядер | 40 GB DDR4 | 300 GB",popular:!1},{id:"p25",cpu:24,ram:48,ramType:"DDR4",storage:350,storageType:"NVMe",price:62,pricePerHour:.45,name:"24 Ядра | 48 GB DDR4 | 350 GB",popular:!1},{id:"p26",cpu:28,ram:56,ramType:"DDR4",storage:400,storageType:"NVMe",price:71,pricePerHour:.53,name:"28 Ядер | 56 GB DDR4 | 400 GB",popular:!1},{id:"p27",cpu:32,ram:64,ramType:"DDR4",storage:450,storageType:"NVMe",price:85,pricePerHour:.61,name:"32 Ядра | 64 GB DDR4 | 450 GB",popular:!1},{id:"p28",cpu:36,ram:72,ramType:"DDR4",storage:500,storageType:"NVMe",price:100,pricePerHour:.73,name:"36 Ядер | 72 GB DDR4 | 500 GB",popular:!1},{id:"p29",cpu:48,ram:96,ramType:"DDR4",storage:600,storageType:"NVMe",price:138,pricePerHour:1.03,name:"48 Ядер | 96 GB DDR4 | 600 GB",popular:!1},{id:"p30",cpu:56,ram:112,ramType:"DDR4",storage:650,storageType:"NVMe",price:156,pricePerHour:1.24,name:"56 Ядер | 112 GB DDR4 | 650 GB",popular:!1},{id:"p31",cpu:64,ram:128,ramType:"DDR4",storage:700,storageType:"NVMe",price:175,pricePerHour:1.52,name:"64 Ядра | 128 GB DDR4 | 700 GB",popular:!1},{id:"p32",cpu:72,ram:128,ramType:"DDR4",storage:700,storageType:"NVMe",price:201,pricePerHour:1.86,name:"72 Ядра | 128 GB DDR4 | 700 GB",popular:!1},{id:"p33",cpu:80,ram:132,ramType:"DDR4",storage:750,storageType:"NVMe",price:265,pricePerHour:2.25,name:"80 Ядер | 132 GB DDR4 | 750 GB",popular:!1},{id:"p34",cpu:88,ram:156,ramType:"DDR4",storage:800,storageType:"NVMe",price:289,pricePerHour:2.77,name:"88 Ядер | 156 GB DDR4 | 800 GB",popular:!1},{id:"p35",cpu:96,ram:192,ramType:"DDR4",storage:900,storageType:"NVMe",price:326,pricePerHour:3.36,name:"96 Ядер | 192 GB DDR4 | 900 GB",popular:!1},{id:"p36",cpu:112,ram:224,ramType:"DDR4",storage:1024,storageType:"NVMe",price:395,pricePerHour:5.72,name:"112 Ядер | 224 GB DDR4 | 1024 GB",popular:!1},{id:"p37",cpu:128,ram:256,ramType:"DDR4",storage:1024,storageType:"NVMe",price:445,pricePerHour:8.2,name:"128 Ядер | 256 GB DDR4 | 1024 GB",popular:!1}];function B({open:e,onOpenChange:s}){let d,{t:h}=(0,b.useLanguage)(),{currency:f,formatPrice:y}=(0,N.useCurrency)(),B=(0,g.useRouter)(),[R,T]=(0,a.useState)(j),[G,w]=(0,a.useState)(""),[M,P]=(0,a.useState)(""),[k,H]=(0,a.useState)("monthly"),[C,V]=(0,a.useState)(!1),[S,L]=(0,a.useState)(0);(0,a.useEffect)(()=>{e&&(fetch("/api/profile",{cache:"no-store"}).then(e=>e.ok?e.json():{balance:0}).then(e=>L(e.balance||0)),!G&&R.length>0&&w(R[0].id))},[e]);let z=R.find(e=>e.id===G),A=z?(d=z.price,"monthly"===k?d:"quarterly"===k?3*d*.95:12*d*.9):0,$="RUB"===f?S/95<A:S<A,_=async()=>{if(!G||!M.trim())return void alert(h("servers.fillAllFields"));V(!0);try{let e=R.find(e=>e.id===G),r=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_plan_id:e?.id,billing_period:k,server_name:M})});if(!r.ok){let e=await r.json();alert(e?.error||h("servers.createError"));return}alert(h("servers.createSuccess")),s(!1),P(""),B.refresh()}catch{alert(h("servers.createError"))}finally{V(!1)}};return(0,r.jsx)(t.Dialog,{open:e,onOpenChange:s,children:(0,r.jsxs)(t.DialogContent,{className:"max-w-7xl max-h-[92vh] overflow-y-auto p-8 rounded-2xl",children:[(0,r.jsx)(t.DialogHeader,{children:(0,r.jsxs)(t.DialogTitle,{className:"text-3xl font-extrabold text-center mb-6",children:["⚙️ ",h("servers.createServer")]})}),(0,r.jsxs)("div",{className:"space-y-8 py-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Label,{htmlFor:"serverName",className:"text-lg font-semibold",children:h("servers.serverName")}),(0,r.jsx)(o.Input,{id:"serverName",placeholder:"My VPS Server",value:M,onChange:e=>P(e.target.value),className:"h-12 text-lg rounded-xl mt-2"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Label,{className:"text-lg font-semibold mb-3 block",children:h("servers.billingPeriod")}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-4",children:["monthly","quarterly","yearly"].map(e=>(0,r.jsxs)(i.Button,{type:"button",variant:k===e?"default":"outline",onClick:()=>H(e),className:`h-20 text-lg font-semibold rounded-xl flex flex-col justify-center items-center ${k===e?"shadow-md scale-105 transition-transform":""}`,children:[h(`servers.${e}`),"quarterly"===e&&(0,r.jsx)("span",{className:"text-sm opacity-80",children:"-5%"}),"yearly"===e&&(0,r.jsx)("span",{className:"text-sm opacity-80",children:"-10%"})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Label,{className:"text-lg font-semibold mb-3 block",children:h("servers.selectPlan")}),(0,r.jsx)("div",{className:"overflow-x-auto py-4",children:(0,r.jsx)("div",{className:"flex gap-6 min-w-max",children:R.map(e=>(0,r.jsxs)("div",{onClick:()=>w(e.id),className:`relative cursor-pointer rounded-2xl border-2 p-6 transition-transform hover:shadow-xl hover:scale-[1.02] min-w-[220px] ${G===e.id?"border-primary bg-primary/5 shadow-md":"border-border/60 hover:border-primary/50"}`,children:[e.popular&&(0,r.jsx)(n.Badge,{className:"absolute -top-3 right-3 bg-gradient-to-r from-primary to-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"POPULAR"}),G===e.id&&(0,r.jsx)("div",{className:"absolute -top-3 -right-3 w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center shadow-lg",children:(0,r.jsx)(u.Check,{className:"w-5 h-5"})}),(0,r.jsx)("h3",{className:"font-bold text-lg text-center mb-4",children:e.name}),(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsxs)("div",{className:"text-2xl font-extrabold text-primary",children:["$",e.price,"/мес"]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["$",e.pricePerHour,"/час"]})]}),(0,r.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(c,{className:"text-primary w-4 h-4"}),e.cpu," Cores"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.Server,{className:"text-primary w-4 h-4"}),e.ram," GB ",e.ramType]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m,{className:"text-primary w-4 h-4"}),e.storage," GB ",e.storageType]})]})]},e.id))})})]}),$&&z&&(0,r.jsxs)(v,{variant:"destructive",className:"text-lg",children:[(0,r.jsx)(x,{className:"h-6 w-6"}),(0,r.jsxs)(D,{children:[h("servers.insufficientBalance")," — ",h("servers.currentBalance"),": ",y("RUB"===f?S/95:S)]})]}),z&&(0,r.jsxs)("div",{className:"bg-muted/50 border rounded-2xl p-6 text-lg space-y-3 shadow-inner",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:[h("servers.selectedPlan"),":"]}),(0,r.jsx)("span",{className:"font-semibold",children:z.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:[h("servers.billingPeriod"),":"]}),(0,r.jsx)("span",{className:"font-semibold",children:h(`servers.${k}`)})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t",children:[(0,r.jsxs)("span",{className:"text-xl font-semibold",children:[h("servers.total"),":"]}),(0,r.jsx)("span",{className:"text-primary text-3xl font-extrabold",children:y(A)})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-2",children:[(0,r.jsx)(i.Button,{variant:"outline",onClick:()=>s(!1),disabled:C,className:"flex-1 h-14 text-lg font-semibold rounded-xl",children:h("common.cancel")}),(0,r.jsx)(i.Button,{onClick:_,disabled:!G||!M.trim()||C||$,className:"flex-1 h-14 text-lg font-semibold rounded-xl bg-gradient-to-r from-primary to-blue-600 hover:opacity-90 shadow-lg",children:C?h("common.creating"):h("servers.create")})]})]})]})})}var R=e.i(69275);function T(){let{t:e}=(0,b.useLanguage)(),[t,o]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:e("servers.title")}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e("servers.subtitle")})]}),(0,r.jsxs)(i.Button,{onClick:()=>window.location.assign("/dashboard/buying"),className:"bg-primary hover:bg-primary/90 gap-2",children:[(0,r.jsx)(R.Plus,{className:"w-5 h-5"}),e("servers.createServer")]})]}),(0,r.jsx)(s.ServersList,{}),(0,r.jsx)(B,{open:t,onOpenChange:o})]})}e.s(["ServersContent",()=>T],44920)}]);