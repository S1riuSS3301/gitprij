(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58514,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(67881),s=e.i(23750),a=e.i(84762),l=e.i(10708),o=e.i(30374),i=e.i(74080),d=e.i(70152),c=e.i(81140),u=e.i(75830),p=e.i(20783),m=e.i(30030),h=e.i(86318),f=e.i(26330),x=e.i(3536),g=e.i(65491),v=e.i(10772),y=e.i(53660),j=e.i(74606),w=e.i(48425),b=r.forwardRef((e,n)=>{let{children:s,...a}=e,l=r.Children.toArray(s),o=l.find(N);if(o){let e=o.props.children,s=l.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(C,{...a,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,t.jsx)(C,{...a,ref:n,children:s})});b.displayName="Slot";var C=r.forwardRef((e,t)=>{let{children:n,...s}=e;if(r.isValidElement(n)){var a;let e,l,o=(a=n,(l=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(l=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref);return r.cloneElement(n,{...function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{a(...e),s(...e)}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(s,n.props),ref:t?(0,p.composeRefs)(t,o):o})}return r.Children.count(n)>1?r.Children.only(null):null});C.displayName="SlotClone";var S=({children:e})=>(0,t.jsx)(t.Fragment,{children:e});function N(e){return r.isValidElement(e)&&e.type===S}var E=e.i(30207),k=e.i(69340),R=e.i(34620),T=e.i(59411),P=e.i(86312),D=e.i(85369),I=[" ","Enter","ArrowUp","ArrowDown"],H=[" ","Enter"],L="Select",[M,A,_]=(0,u.createCollection)(L),[F,z]=(0,m.createContextScope)(L,[_,y.createPopperScope]),B=(0,y.createPopperScope)(),[O,V]=F(L),[K,U]=F(L),W=e=>{let{__scopeSelect:n,children:s,open:a,defaultOpen:l,onOpenChange:o,value:i,defaultValue:d,onValueChange:c,dir:u,name:p,autoComplete:m,disabled:f,required:x,form:g}=e,j=B(n),[w,b]=r.useState(null),[C,S]=r.useState(null),[N,E]=r.useState(!1),R=(0,h.useDirection)(u),[T=!1,P]=(0,k.useControllableState)({prop:a,defaultProp:l,onChange:o}),[D,I]=(0,k.useControllableState)({prop:i,defaultProp:d,onChange:c}),H=r.useRef(null),L=!w||g||!!w.closest("form"),[A,_]=r.useState(new Set),F=Array.from(A).map(e=>e.props.value).join(";");return(0,t.jsx)(y.Root,{...j,children:(0,t.jsxs)(O,{required:x,scope:n,trigger:w,onTriggerChange:b,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:(0,v.useId)(),value:D,onValueChange:I,open:T,onOpenChange:P,dir:R,triggerPointerDownPosRef:H,disabled:f,children:[(0,t.jsx)(M.Provider,{scope:n,children:(0,t.jsx)(K,{scope:e.__scopeSelect,onNativeOptionAdd:r.useCallback(e=>{_(t=>new Set(t).add(e))},[]),onNativeOptionRemove:r.useCallback(e=>{_(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:s})}),L?(0,t.jsxs)(eR,{"aria-hidden":!0,required:x,tabIndex:-1,name:p,autoComplete:m,value:D,onChange:e=>I(e.target.value),disabled:f,form:g,children:[void 0===D?(0,t.jsx)("option",{value:""}):null,Array.from(A)]},F):null]})})};W.displayName=L;var q="SelectTrigger",$=r.forwardRef((e,n)=>{let{__scopeSelect:s,disabled:a=!1,...l}=e,o=B(s),i=V(q,s),d=i.disabled||a,u=(0,p.useComposedRefs)(n,i.onTriggerChange),m=A(s),h=r.useRef("touch"),[f,x,g]=eT(e=>{let t=m().filter(e=>!e.disabled),r=t.find(e=>e.value===i.value),n=eP(t,e,r);void 0!==n&&i.onValueChange(n.value)}),v=e=>{d||(i.onOpenChange(!0),g()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,t.jsx)(y.Anchor,{asChild:!0,...o,children:(0,t.jsx)(w.Primitive.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":ek(i.value)?"":void 0,...l,ref:u,onClick:(0,c.composeEventHandlers)(l.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&v(e)}),onPointerDown:(0,c.composeEventHandlers)(l.onPointerDown,e=>{h.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:(0,c.composeEventHandlers)(l.onKeyDown,e=>{let t=""!==f.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||x(e.key),(!t||" "!==e.key)&&I.includes(e.key)&&(v(),e.preventDefault())})})})});$.displayName=q;var G="SelectValue",J=r.forwardRef((e,r)=>{let{__scopeSelect:n,className:s,style:a,children:l,placeholder:o="",...i}=e,d=V(G,n),{onValueNodeHasChildrenChange:c}=d,u=void 0!==l,m=(0,p.useComposedRefs)(r,d.onValueNodeChange);return(0,R.useLayoutEffect)(()=>{c(u)},[c,u]),(0,t.jsx)(w.Primitive.span,{...i,ref:m,style:{pointerEvents:"none"},children:ek(d.value)?(0,t.jsx)(t.Fragment,{children:o}):l})});J.displayName=G;var X=r.forwardRef((e,r)=>{let{__scopeSelect:n,children:s,...a}=e;return(0,t.jsx)(w.Primitive.span,{"aria-hidden":!0,...a,ref:r,children:s||"▼"})});X.displayName="SelectIcon";var Y=e=>(0,t.jsx)(j.Portal,{asChild:!0,...e});Y.displayName="SelectPortal";var Z="SelectContent",Q=r.forwardRef((e,n)=>{let s=V(Z,e.__scopeSelect),[a,l]=r.useState();return((0,R.useLayoutEffect)(()=>{l(new DocumentFragment)},[]),s.open)?(0,t.jsx)(er,{...e,ref:n}):a?i.createPortal((0,t.jsx)(ee,{scope:e.__scopeSelect,children:(0,t.jsx)(M.Slot,{scope:e.__scopeSelect,children:(0,t.jsx)("div",{children:e.children})})}),a):null});Q.displayName=Z;var[ee,et]=F(Z),er=r.forwardRef((e,n)=>{let{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:o,onPointerDownOutside:i,side:d,sideOffset:u,align:m,alignOffset:h,arrowPadding:v,collisionBoundary:y,collisionPadding:j,sticky:w,hideWhenDetached:C,avoidCollisions:S,...N}=e,E=V(Z,s),[k,R]=r.useState(null),[T,I]=r.useState(null),H=(0,p.useComposedRefs)(n,e=>R(e)),[L,M]=r.useState(null),[_,F]=r.useState(null),z=A(s),[B,O]=r.useState(!1),K=r.useRef(!1);r.useEffect(()=>{if(k)return(0,P.hideOthers)(k)},[k]),(0,x.useFocusGuards)();let U=r.useCallback(e=>{let[t,...r]=z().map(e=>e.ref.current),[n]=r.slice(-1),s=document.activeElement;for(let r of e)if(r===s||(r?.scrollIntoView({block:"nearest"}),r===t&&T&&(T.scrollTop=0),r===n&&T&&(T.scrollTop=T.scrollHeight),r?.focus(),document.activeElement!==s))return},[z,T]),W=r.useCallback(()=>U([L,k]),[U,L,k]);r.useEffect(()=>{B&&W()},[B,W]);let{onOpenChange:q,triggerPointerDownPosRef:$}=E;r.useEffect(()=>{if(k){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-($.current?.x??0)),y:Math.abs(Math.round(t.pageY)-($.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():k.contains(r.target)||q(!1),document.removeEventListener("pointermove",t),$.current=null};return null!==$.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[k,q,$]),r.useEffect(()=>{let e=()=>q(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[q]);let[G,J]=eT(e=>{let t=z().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=eP(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),X=r.useCallback((e,t,r)=>{let n=!K.current&&!r;(void 0!==E.value&&E.value===t||n)&&(M(e),n&&(K.current=!0))},[E.value]),Y=r.useCallback(()=>k?.focus(),[k]),Q=r.useCallback((e,t,r)=>{let n=!K.current&&!r;(void 0!==E.value&&E.value===t||n)&&F(e)},[E.value]),et="popper"===a?es:en,er=et===es?{side:d,sideOffset:u,align:m,alignOffset:h,arrowPadding:v,collisionBoundary:y,collisionPadding:j,sticky:w,hideWhenDetached:C,avoidCollisions:S}:{};return(0,t.jsx)(ee,{scope:s,content:k,viewport:T,onViewportChange:I,itemRefCallback:X,selectedItem:L,onItemLeave:Y,itemTextRefCallback:Q,focusSelectedItem:W,selectedItemText:_,position:a,isPositioned:B,searchRef:G,children:(0,t.jsx)(D.RemoveScroll,{as:b,allowPinchZoom:!0,children:(0,t.jsx)(g.FocusScope,{asChild:!0,trapped:E.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,c.composeEventHandlers)(l,e=>{E.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,t.jsx)(f.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:(0,t.jsx)(et,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:e=>e.preventDefault(),...N,...er,onPlaced:()=>O(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:(0,c.composeEventHandlers)(N.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||J(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=z().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>U(t)),e.preventDefault()}})})})})})})});er.displayName="SelectContentImpl";var en=r.forwardRef((e,n)=>{let{__scopeSelect:s,onPlaced:a,...l}=e,o=V(Z,s),i=et(Z,s),[c,u]=r.useState(null),[m,h]=r.useState(null),f=(0,p.useComposedRefs)(n,e=>h(e)),x=A(s),g=r.useRef(!1),v=r.useRef(!0),{viewport:y,selectedItem:j,selectedItemText:b,focusSelectedItem:C}=i,S=r.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&m&&y&&j&&b){let e=o.trigger.getBoundingClientRect(),t=m.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),n=b.getBoundingClientRect();if("rtl"!==o.dir){let s=n.left-t.left,a=r.left-s,l=e.left-a,o=e.width+l,i=Math.max(o,t.width),u=window.innerWidth-10,p=(0,d.clamp)(a,[10,Math.max(10,u-i)]);c.style.minWidth=o+"px",c.style.left=p+"px"}else{let s=t.right-n.right,a=window.innerWidth-r.right-s,l=window.innerWidth-e.right-a,o=e.width+l,i=Math.max(o,t.width),u=window.innerWidth-10,p=(0,d.clamp)(a,[10,Math.max(10,u-i)]);c.style.minWidth=o+"px",c.style.right=p+"px"}let s=x(),l=window.innerHeight-20,i=y.scrollHeight,u=window.getComputedStyle(m),p=parseInt(u.borderTopWidth,10),h=parseInt(u.paddingTop,10),f=parseInt(u.borderBottomWidth,10),v=p+h+i+parseInt(u.paddingBottom,10)+f,w=Math.min(5*j.offsetHeight,v),C=window.getComputedStyle(y),S=parseInt(C.paddingTop,10),N=parseInt(C.paddingBottom,10),E=e.top+e.height/2-10,k=j.offsetHeight/2,R=p+h+(j.offsetTop+k);if(R<=E){let e=s.length>0&&j===s[s.length-1].ref.current;c.style.bottom="0px";let t=Math.max(l-E,k+(e?N:0)+(m.clientHeight-y.offsetTop-y.offsetHeight)+f);c.style.height=R+t+"px"}else{let e=s.length>0&&j===s[0].ref.current;c.style.top="0px";let t=Math.max(E,p+y.offsetTop+(e?S:0)+k);c.style.height=t+(v-R)+"px",y.scrollTop=R-E+y.offsetTop}c.style.margin="10px 0",c.style.minHeight=w+"px",c.style.maxHeight=l+"px",a?.(),requestAnimationFrame(()=>g.current=!0)}},[x,o.trigger,o.valueNode,c,m,y,j,b,o.dir,a]);(0,R.useLayoutEffect)(()=>S(),[S]);let[N,E]=r.useState();(0,R.useLayoutEffect)(()=>{m&&E(window.getComputedStyle(m).zIndex)},[m]);let k=r.useCallback(e=>{e&&!0===v.current&&(S(),C?.(),v.current=!1)},[S,C]);return(0,t.jsx)(ea,{scope:s,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:k,children:(0,t.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:(0,t.jsx)(w.Primitive.div,{...l,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});en.displayName="SelectItemAlignedPosition";var es=r.forwardRef((e,r)=>{let{__scopeSelect:n,align:s="start",collisionPadding:a=10,...l}=e,o=B(n);return(0,t.jsx)(y.Content,{...o,...l,ref:r,align:s,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});es.displayName="SelectPopperPosition";var[ea,el]=F(Z,{}),eo="SelectViewport",ei=r.forwardRef((e,n)=>{let{__scopeSelect:s,nonce:a,...l}=e,o=et(eo,s),i=el(eo,s),d=(0,p.useComposedRefs)(n,o.onViewportChange),u=r.useRef(0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,t.jsx)(M.Slot,{scope:s,children:(0,t.jsx)(w.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:(0,c.composeEventHandlers)(l.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=i;if(n?.current&&r){let e=Math.abs(u.current-t.scrollTop);if(e>0){let n=window.innerHeight-20,s=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(s<n){let a=s+e,l=Math.min(n,a),o=a-l;r.style.height=l+"px","0px"===r.style.bottom&&(t.scrollTop=o>0?o:0,r.style.justifyContent="flex-end")}}}u.current=t.scrollTop})})})]})});ei.displayName=eo;var ed="SelectGroup",[ec,eu]=F(ed);r.forwardRef((e,r)=>{let{__scopeSelect:n,...s}=e,a=(0,v.useId)();return(0,t.jsx)(ec,{scope:n,id:a,children:(0,t.jsx)(w.Primitive.div,{role:"group","aria-labelledby":a,...s,ref:r})})}).displayName=ed;var ep="SelectLabel";r.forwardRef((e,r)=>{let{__scopeSelect:n,...s}=e,a=eu(ep,n);return(0,t.jsx)(w.Primitive.div,{id:a.id,...s,ref:r})}).displayName=ep;var em="SelectItem",[eh,ef]=F(em),ex=r.forwardRef((e,n)=>{let{__scopeSelect:s,value:a,disabled:l=!1,textValue:o,...i}=e,d=V(em,s),u=et(em,s),m=d.value===a,[h,f]=r.useState(o??""),[x,g]=r.useState(!1),y=(0,p.useComposedRefs)(n,e=>u.itemRefCallback?.(e,a,l)),j=(0,v.useId)(),b=r.useRef("touch"),C=()=>{l||(d.onValueChange(a),d.onOpenChange(!1))};if(""===a)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,t.jsx)(eh,{scope:s,value:a,disabled:l,textId:j,isSelected:m,onItemTextChange:r.useCallback(e=>{f(t=>t||(e?.textContent??"").trim())},[]),children:(0,t.jsx)(M.ItemSlot,{scope:s,value:a,disabled:l,textValue:h,children:(0,t.jsx)(w.Primitive.div,{role:"option","aria-labelledby":j,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...i,ref:y,onFocus:(0,c.composeEventHandlers)(i.onFocus,()=>g(!0)),onBlur:(0,c.composeEventHandlers)(i.onBlur,()=>g(!1)),onClick:(0,c.composeEventHandlers)(i.onClick,()=>{"mouse"!==b.current&&C()}),onPointerUp:(0,c.composeEventHandlers)(i.onPointerUp,()=>{"mouse"===b.current&&C()}),onPointerDown:(0,c.composeEventHandlers)(i.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:(0,c.composeEventHandlers)(i.onPointerMove,e=>{b.current=e.pointerType,l?u.onItemLeave?.():"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,c.composeEventHandlers)(i.onPointerLeave,e=>{e.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:(0,c.composeEventHandlers)(i.onKeyDown,e=>{(u.searchRef?.current===""||" "!==e.key)&&(H.includes(e.key)&&C()," "===e.key&&e.preventDefault())})})})})});ex.displayName=em;var eg="SelectItemText",ev=r.forwardRef((e,n)=>{let{__scopeSelect:s,className:a,style:l,...o}=e,d=V(eg,s),c=et(eg,s),u=ef(eg,s),m=U(eg,s),[h,f]=r.useState(null),x=(0,p.useComposedRefs)(n,e=>f(e),u.onItemTextChange,e=>c.itemTextRefCallback?.(e,u.value,u.disabled)),g=h?.textContent,v=r.useMemo(()=>(0,t.jsx)("option",{value:u.value,disabled:u.disabled,children:g},u.value),[u.disabled,u.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:j}=m;return(0,R.useLayoutEffect)(()=>(y(v),()=>j(v)),[y,j,v]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Primitive.span,{id:u.textId,...o,ref:x}),u.isSelected&&d.valueNode&&!d.valueNodeHasChildren?i.createPortal(o.children,d.valueNode):null]})});ev.displayName=eg;var ey="SelectItemIndicator",ej=r.forwardRef((e,r)=>{let{__scopeSelect:n,...s}=e;return ef(ey,n).isSelected?(0,t.jsx)(w.Primitive.span,{"aria-hidden":!0,...s,ref:r}):null});ej.displayName=ey;var ew="SelectScrollUpButton",eb=r.forwardRef((e,n)=>{let s=et(ew,e.__scopeSelect),a=el(ew,e.__scopeSelect),[l,o]=r.useState(!1),i=(0,p.useComposedRefs)(n,a.onScrollButtonChange);return(0,R.useLayoutEffect)(()=>{if(s.viewport&&s.isPositioned){let e=function(){o(t.scrollTop>0)},t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),l?(0,t.jsx)(eN,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eb.displayName=ew;var eC="SelectScrollDownButton",eS=r.forwardRef((e,n)=>{let s=et(eC,e.__scopeSelect),a=el(eC,e.__scopeSelect),[l,o]=r.useState(!1),i=(0,p.useComposedRefs)(n,a.onScrollButtonChange);return(0,R.useLayoutEffect)(()=>{if(s.viewport&&s.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;o(Math.ceil(t.scrollTop)<e)},t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),l?(0,t.jsx)(eN,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eS.displayName=eC;var eN=r.forwardRef((e,n)=>{let{__scopeSelect:s,onAutoScroll:a,...l}=e,o=et("SelectScrollButton",s),i=r.useRef(null),d=A(s),u=r.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return r.useEffect(()=>()=>u(),[u]),(0,R.useLayoutEffect)(()=>{let e=d().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[d]),(0,t.jsx)(w.Primitive.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:(0,c.composeEventHandlers)(l.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(a,50))}),onPointerMove:(0,c.composeEventHandlers)(l.onPointerMove,()=>{o.onItemLeave?.(),null===i.current&&(i.current=window.setInterval(a,50))}),onPointerLeave:(0,c.composeEventHandlers)(l.onPointerLeave,()=>{u()})})});r.forwardRef((e,r)=>{let{__scopeSelect:n,...s}=e;return(0,t.jsx)(w.Primitive.div,{"aria-hidden":!0,...s,ref:r})}).displayName="SelectSeparator";var eE="SelectArrow";function ek(e){return""===e||void 0===e}r.forwardRef((e,r)=>{let{__scopeSelect:n,...s}=e,a=B(n),l=V(eE,n),o=et(eE,n);return l.open&&"popper"===o.position?(0,t.jsx)(y.Arrow,{...a,...s,ref:r}):null}).displayName=eE;var eR=r.forwardRef((e,n)=>{let s,{value:a,...l}=e,o=r.useRef(null),i=(0,p.useComposedRefs)(n,o),d=(s=r.useRef({value:a,previous:a}),r.useMemo(()=>(s.current.value!==a&&(s.current.previous=s.current.value,s.current.value=a),s.current.previous),[a]));return r.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(d!==a&&t){let r=new Event("change",{bubbles:!0});t.call(e,a),e.dispatchEvent(r)}},[d,a]),(0,t.jsx)(T.VisuallyHidden,{asChild:!0,children:(0,t.jsx)("select",{...l,ref:i,defaultValue:a})})});function eT(e){let t=(0,E.useCallbackRef)(e),n=r.useRef(""),s=r.useRef(0),a=r.useCallback(e=>{let r=n.current+e;t(r),function e(t){n.current=t,window.clearTimeout(s.current),""!==t&&(s.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),l=r.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,l]}function eP(e,t,r){var n,s;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,l=r?e.indexOf(r):-1,o=(n=e,s=Math.max(l,0),n.map((e,t)=>n[(s+t)%n.length]));1===a.length&&(o=o.filter(e=>e!==r));let i=o.find(e=>e.textValue.toLowerCase().startsWith(a.toLowerCase()));return i!==r?i:void 0}eR.displayName="BubbleSelect";var eD=e.i(78784),eI=e.i(75254);let eH=(0,eI.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eL=(0,eI.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var eM=e.i(47163);function eA({...e}){return(0,t.jsx)(W,{"data-slot":"select",...e})}function e_({...e}){return(0,t.jsx)(J,{"data-slot":"select-value",...e})}function eF({className:e,size:r="default",children:n,...s}){return(0,t.jsxs)($,{"data-slot":"select-trigger","data-size":r,className:(0,eM.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[n,(0,t.jsx)(X,{asChild:!0,children:(0,t.jsx)(eH,{className:"size-4 opacity-50"})})]})}function ez({className:e,children:r,position:n="popper",...s}){return(0,t.jsx)(Y,{children:(0,t.jsxs)(Q,{"data-slot":"select-content",className:(0,eM.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[(0,t.jsx)(eO,{}),(0,t.jsx)(ei,{className:(0,eM.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),(0,t.jsx)(eV,{})]})})}function eB({className:e,children:r,...n}){return(0,t.jsxs)(ex,{"data-slot":"select-item",className:(0,eM.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(ej,{children:(0,t.jsx)(eD.CheckIcon,{className:"size-4"})})}),(0,t.jsx)(ev,{children:r})]})}function eO({className:e,...r}){return(0,t.jsx)(eb,{"data-slot":"select-scroll-up-button",className:(0,eM.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,t.jsx)(eL,{className:"size-4"})})}function eV({className:e,...r}){return(0,t.jsx)(eS,{"data-slot":"select-scroll-down-button",className:(0,eM.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,t.jsx)(eH,{className:"size-4"})})}let eK=(0,eI.default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var eU=e.i(31278),eW=e.i(46696);function eq({onTicketCreated:e}){let[i,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)({subject:"",message:"",category:"general",priority:"normal"}),h=async t=>{if(t.preventDefault(),!p.subject.trim()||!p.message.trim())return void eW.toast.error("Пожалуйста, заполните все поля");u(!0);try{if(!(await fetch("/api/support",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok)throw Error("Failed to create ticket");eW.toast.success("Тикет успешно создан! Мы ответим вам в ближайшее время."),m({subject:"",message:"",category:"general",priority:"normal"}),d(!1),e?.()}catch(e){eW.toast.error("Ошибка при создании тикета. Попробуйте еще раз.")}finally{u(!1)}};return(0,t.jsxs)(o.Dialog,{open:i,onOpenChange:d,children:[(0,t.jsx)(o.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{className:"bg-primary hover:bg-primary/90 gap-2",children:[(0,t.jsx)(eK,{className:"w-4 h-4"}),"Создать тикет"]})}),(0,t.jsxs)(o.DialogContent,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsx)(o.DialogTitle,{children:"Создать обращение в поддержку"}),(0,t.jsx)(o.DialogDescription,{children:"Опишите вашу проблему подробно. Мы ответим в ближайшее время."})]}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"subject",children:"Тема обращения"}),(0,t.jsx)(s.Input,{id:"subject",value:p.subject,onChange:e=>m(t=>({...t,subject:e.target.value})),placeholder:"Кратко опишите проблему",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"category",children:"Категория"}),(0,t.jsxs)(eA,{value:p.category,onValueChange:e=>m(t=>({...t,category:e})),children:[(0,t.jsx)(eF,{children:(0,t.jsx)(e_,{})}),(0,t.jsxs)(ez,{children:[(0,t.jsx)(eB,{value:"general",children:"Общие вопросы"}),(0,t.jsx)(eB,{value:"technical",children:"Техническая поддержка"}),(0,t.jsx)(eB,{value:"billing",children:"Оплата и биллинг"}),(0,t.jsx)(eB,{value:"server_issue",children:"Проблемы с сервером"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"priority",children:"Приоритет"}),(0,t.jsxs)(eA,{value:p.priority,onValueChange:e=>m(t=>({...t,priority:e})),children:[(0,t.jsx)(eF,{children:(0,t.jsx)(e_,{})}),(0,t.jsxs)(ez,{children:[(0,t.jsx)(eB,{value:"low",children:"Низкий"}),(0,t.jsx)(eB,{value:"normal",children:"Нормальный"}),(0,t.jsx)(eB,{value:"high",children:"Высокий"}),(0,t.jsx)(eB,{value:"urgent",children:"Срочный"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"message",children:"Описание проблемы"}),(0,t.jsx)(a.Textarea,{id:"message",value:p.message,onChange:e=>m(t=>({...t,message:e.target.value})),placeholder:"Подробно опишите вашу проблему или вопрос",rows:5,required:!0})]}),(0,t.jsxs)(o.DialogFooter,{children:[(0,t.jsx)(n.Button,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:c,children:"Отмена"}),(0,t.jsxs)(n.Button,{type:"submit",disabled:c,children:[c&&(0,t.jsx)(eU.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),"Создать тикет"]})]})]})]})]})}e.s(["CreateTicketModal",()=>eq],58514)},8550,e=>{"use strict";var t=e.i(43476),r=e.i(94179),n=e.i(67881),s=e.i(94983),a=e.i(16715),l=e.i(71645),o=e.i(23750),i=e.i(63270),d=e.i(30374),c=e.i(14764),u=e.i(31278);let p=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var m=e.i(98919),h=e.i(46696);function f({ticket:e,open:s,onOpenChange:a,onMessageSent:f}){let[x,g]=(0,l.useState)([]),[v,y]=(0,l.useState)(""),[j,w]=(0,l.useState)(!1),[b,C]=(0,l.useState)(!1),S=(0,l.useRef)(null);(0,l.useEffect)(()=>{e&&(g(e.messages),C(!1))},[e]),(0,l.useEffect)(()=>{S.current&&S.current.scrollIntoView({behavior:"smooth"})},[x]);let N=async()=>{if(v.trim()&&e&&!j){w(!0);try{let t=await fetch(`/api/support/${e.id}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:v.trim()})});if(!t.ok)throw Error("Failed to send message");let r=await t.json();g(e=>[...e,r]),y(""),f?.(),h.toast.success("Сообщение отправлено")}catch(e){h.toast.error("Ошибка при отправке сообщения")}finally{w(!1)}}};return e?(0,t.jsx)(d.Dialog,{open:s,onOpenChange:a,children:(0,t.jsxs)(d.DialogContent,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[(0,t.jsxs)(d.DialogHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(d.DialogTitle,{className:"text-lg",children:e.subject}),(0,t.jsx)(r.Badge,{className:(e=>{switch(e){case"open":return"bg-blue-500/20 text-blue-400";case"in_progress":return"bg-yellow-500/20 text-yellow-400";case"resolved":return"bg-green-500/20 text-green-400";default:return"bg-gray-500/20 text-gray-400"}})(e.status),children:(e=>{switch(e){case"open":return"Открыт";case"in_progress":return"В работе";case"resolved":return"Решен";case"closed":return"Закрыт";default:return e}})(e.status)})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Тикет #",e.id.slice(-8)," • Категория: ","general"===e.category?"Общие вопросы":"technical"===e.category?"Техническая поддержка":"billing"===e.category?"Оплата и биллинг":"server_issue"===e.category?"Проблемы с сервером":e.category]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 min-h-0 p-4 bg-muted/30 rounded-lg",children:[0===x.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,t.jsx)("p",{children:"Сообщений пока нет"})}):x.map(e=>(0,t.jsxs)("div",{className:`flex gap-3 ${e.isFromAdmin?"justify-start":"justify-end"}`,children:[(0,t.jsx)(i.Avatar,{className:"w-8 h-8 mt-1",children:(0,t.jsx)(i.AvatarFallback,{className:e.isFromAdmin?"bg-blue-500":"bg-green-500",children:e.isFromAdmin?(0,t.jsx)(m.Shield,{className:"w-4 h-4"}):(0,t.jsx)(p,{className:"w-4 h-4"})})}),(0,t.jsxs)("div",{className:`max-w-[70%] ${e.isFromAdmin?"order-first":"order-last"}`,children:[(0,t.jsx)("div",{className:`rounded-lg p-3 ${e.isFromAdmin?"bg-background border":"bg-primary text-primary-foreground"}`,children:(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.isFromAdmin?"Поддержка":"Вы"," • ",new Date(e.createdAt).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})]})]},e.id)),(0,t.jsx)("div",{ref:S})]}),"closed"!==e.status&&(0,t.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,t.jsx)(o.Input,{placeholder:"Введите сообщение...",value:v,onChange:e=>y(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N())},disabled:j,className:"flex-1"}),(0,t.jsx)(n.Button,{onClick:N,disabled:!v.trim()||j,size:"icon",children:j?(0,t.jsx)(u.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(c.Send,{className:"w-4 h-4"})})]}),"closed"===e.status&&(0,t.jsx)("div",{className:"text-center py-4 text-muted-foreground border-t",children:(0,t.jsx)("p",{children:"Этот тикет закрыт. Если вам нужна дополнительная помощь, создайте новый тикет."})})]})}):null}function x(){let[e,o]=(0,l.useState)([]),[i,d]=(0,l.useState)(!0),[c,u]=(0,l.useState)(null),[p,m]=(0,l.useState)(!1);(0,l.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await fetch("/api/support");if(e.ok){let t=await e.json();o(t)}}catch(e){console.error("Failed to load tickets:",e)}finally{d(!1)}};return i?(0,t.jsxs)("div",{className:"card-gradient rounded-xl p-6 border border-border/50",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-foreground mb-6",children:"Мои тикеты"}),(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Загрузка..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"card-gradient rounded-xl p-6 border border-border/50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-foreground",children:"Мои тикеты"}),(0,t.jsxs)(n.Button,{size:"sm",variant:"outline",onClick:h,className:"gap-2",children:[(0,t.jsx)(a.RefreshCw,{className:"w-4 h-4"}),"Обновить"]})]}),0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(s.MessageCircle,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"У вас пока нет обращений в поддержку"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Создайте новое обращение, если вам нужна помощь"})]}):(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>{let n,a,l;return(0,t.jsxs)("div",{onClick:()=>{u(e),m(!0)},className:"p-4 rounded-lg bg-background/30 border border-border/30 hover:border-primary/50 transition-all cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["#",e.id.slice(-8)]}),(0,t.jsx)(r.Badge,{variant:(e=>{switch(e){case"open":return"default";case"in_progress":return"secondary";default:return"outline"}})(e.status),className:"text-xs",children:(e=>{switch(e){case"open":return"Открыт";case"in_progress":return"В работе";case"resolved":return"Решен";case"closed":return"Закрыт";default:return e}})(e.status)})]}),(0,t.jsx)("span",{className:`text-xs font-medium ${(e=>{switch(e){case"urgent":return"text-red-400";case"high":return"text-orange-400";case"normal":return"text-blue-400";default:return"text-gray-400"}})(e.priority)}`,children:"urgent"===e.priority?"Срочно":"high"===e.priority?"Высокий":"normal"===e.priority?"Нормальный":"Низкий"})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-foreground mb-2",children:e.subject}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:(n=new Date(e.updatedAt),l=Math.floor((a=Math.floor((new Date().getTime()-n.getTime())/36e5))/24),a<1?"Менее часа назад":a<24?`${a} ч. назад`:`${l} д. назад`)}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(s.MessageCircle,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.messages.length})]})]})]},e.id)})})]}),(0,t.jsx)(f,{ticket:c,open:p,onOpenChange:m,onMessageSent:h})]})}e.s(["SupportTickets",()=>x],8550)}]);