module.exports=[5522,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-10 w-full min-w-0 rounded-lg border-2 bg-transparent px-4 py-2.5 text-sm font-medium shadow-sm transition-all outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-semibold disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","focus-visible:border-primary focus-visible:ring-ring/50 focus-visible:ring-[3px] focus-visible:shadow-md","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","hover:border-primary/50",a),...e})}a.s(["Input",()=>d])},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(97895);let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(f,{ref:d,className:(0,g.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...c}));h.displayName=f.displayName,a.s(["Label",()=>h],17171)},33441,a=>{"use strict";var b=a.i(34157);a.s(["Check",()=>b.default])},40695,11011,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function e(a){var e;let f,g=(e=a,(f=c.forwardRef((a,b)=>{let{children:e,...f}=a;if(c.isValidElement(e)){var g;let a,h,i=(g=e,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,e.props);return e.type!==c.Fragment&&(j.ref=b?function(...a){return b=>{let c=!1,e=a.map(a=>{let e=d(a,b);return c||"function"!=typeof e||(c=!0),e});if(c)return()=>{for(let b=0;b<e.length;b++){let c=e[b];"function"==typeof c?c():d(a[b],null)}}}}(b,i):i),c.cloneElement(e,j)}return c.Children.count(e)>1?c.Children.only(null):null})).displayName=`${e}.SlotClone`,f),i=c.forwardRef((a,d)=>{let{children:e,...f}=a,i=c.Children.toArray(e),j=i.find(h);if(j){let a=j.props.children,e=i.map(b=>b!==j?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(g,{...f,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(g,{...f,ref:d,children:e})});return i.displayName=`${a}.Slot`,i}var f=e("Slot"),g=Symbol("radix.slottable");function h(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===g}a.s(["Slot",()=>f,"createSlot",()=>e],11011);var i=a.i(187),j=a.i(97895);let k=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold tracking-tight transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md hover:glow-effect",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 shadow-sm hover:shadow-md",outline:"border-2 border-border bg-background shadow-sm hover:bg-accent hover:text-accent-foreground hover:border-primary/50 dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2.5 has-[>svg]:px-4 text-sm",sm:"h-8 rounded-md gap-1.5 px-3.5 has-[>svg]:px-2.5 text-xs",lg:"h-12 rounded-lg px-7 has-[>svg]:px-5 text-base",icon:"size-10","icon-sm":"size-8","icon-lg":"size-12"}},defaultVariants:{variant:"default",size:"default"}});function l({className:a,variant:c,size:d,asChild:e=!1,...g}){return(0,b.jsx)(e?f:"button",{"data-slot":"button",className:(0,j.cn)(k({variant:c,size:d,className:a})),...g})}a.s(["Button",()=>l],40695)},34157,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["default",()=>b])},60246,a=>{"use strict";let b=(0,a.i(70106).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>b],60246)},79808,a=>{"use strict";let b=(0,a.i(70106).default)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);a.s(["Wrench",()=>b],79808)},45222,a=>{"use strict";let b=(0,a.i(70106).default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);a.s(["MessageCircle",()=>b],45222)},74337,a=>{"use strict";var b=a.i(87924),c=a.i(35125),d=a.i(79808),e=a.i(45222),f=a.i(60246),g=a.i(30617),h=a.i(11156),i=a.i(97895),j=a.i(38246),k=a.i(50944),l=a.i(23236);function m(){let a=(0,k.usePathname)(),{t:m}=(0,l.useLanguage)(),n=[{icon:g.LayoutDashboard,label:m("dashboard.title"),href:"/dashboard"},{icon:c.Server,label:m("servers.myServers"),href:"/dashboard/servers"},{icon:d.Wrench,label:m("sidebar.myServices"),href:"/dashboard/services"},{icon:h.CreditCard,label:m("dashboard.billing"),href:"/dashboard/billing"},{icon:f.Users,label:m("dashboard.referrals"),href:"/dashboard/referrals"},{icon:e.MessageCircle,label:m("sidebar.support"),href:"/dashboard/support"}];return(0,b.jsx)("aside",{className:"w-64 border-r border-border/50 bg-sidebar/50 backdrop-blur-sm hidden lg:block animate-fade-in",children:(0,b.jsx)("nav",{className:"p-4 space-y-2",children:n.map((c,d)=>{let e=c.icon,f=a===c.href;return(0,b.jsxs)(j.default,{href:c.href,className:(0,i.cn)("group w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 will-change-transform",f?"bg-primary text-primary-foreground shadow-lg glow-effect":"text-muted-foreground hover:bg-secondary hover:text-foreground hover:translate-x-0.5"),children:[(0,b.jsx)(e,{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110"}),(0,b.jsx)("span",{className:"font-medium",children:c.label})]},d)})})})}a.s(["DashboardSidebar",()=>m])},79360,a=>{"use strict";let b=(0,a.i(70106).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);a.s(["MoreVertical",()=>b],79360)},65733,a=>{"use strict";var b=a.i(87924),c=a.i(97942),d=a.i(22262),e=a.i(97895);function f({...a}){return(0,b.jsx)(c.Root,{"data-slot":"dialog",...a})}function g({...a}){return(0,b.jsx)(c.Trigger,{"data-slot":"dialog-trigger",...a})}function h({...a}){return(0,b.jsx)(c.Portal,{"data-slot":"dialog-portal",...a})}function i({className:a,...d}){return(0,b.jsx)(c.Overlay,{"data-slot":"dialog-overlay",className:(0,e.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...d})}function j({className:a,children:f,showCloseButton:g=!0,...j}){return(0,b.jsxs)(h,{"data-slot":"dialog-portal",children:[(0,b.jsx)(i,{}),(0,b.jsxs)(c.Content,{"data-slot":"dialog-content",className:(0,e.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...j,children:[f,g&&(0,b.jsxs)(c.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(d.XIcon,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function k({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-header",className:(0,e.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function l({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-footer",className:(0,e.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...c})}function m({className:a,...d}){return(0,b.jsx)(c.Title,{"data-slot":"dialog-title",className:(0,e.cn)("text-lg leading-none font-semibold",a),...d})}function n({className:a,...d}){return(0,b.jsx)(c.Description,{"data-slot":"dialog-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...d})}a.s(["Dialog",()=>f,"DialogContent",()=>j,"DialogDescription",()=>n,"DialogFooter",()=>l,"DialogHeader",()=>k,"DialogTitle",()=>m,"DialogTrigger",()=>g])},84713,a=>{"use strict";var b=a.i(87924),c=a.i(40695),d=a.i(54161),e=a.i(35125),f=a.i(79360),g=a.i(70106);let h=(0,g.default)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),i=(0,g.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),j=(0,g.default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var k=a.i(69520),l=a.i(76504),m=a.i(23236),n=a.i(18284),o=a.i(72131),p=a.i(23292);function q(){let{t:a,language:g}=(0,m.useLanguage)(),{formatPrice:q,convertPrice:r}=(0,n.useCurrency)(),[s,t]=(0,o.useState)([]),[u,v]=(0,o.useState)([]),[w,x]=(0,o.useState)({});(0,o.useEffect)(()=>{fetch("/api/orders",{cache:"no-store"}).then(a=>a.ok?a.json():[]).then(a=>t(a||[])),fetch("/api/server-plans",{cache:"no-store"}).then(a=>a.ok?a.json():[]).then(a=>v(a||[]))},[]);let y=async(a,b,c)=>{x(c=>({...c,[`${a}-${b}`]:!0}));try{let d=await fetch("/api/vmmanager",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:a,orderId:b,...c})}),e=await d.json();if(e.success){p.toast.success("ru"===g?`Действие "${a}" выполнено успешно`:`Action "${a}" completed successfully`);let b=await fetch("/api/orders",{cache:"no-store"});if(b.ok){let a=await b.json();t(a||[])}}else p.toast.error("ru"===g?`Ошибка выполнения действия: ${e.error||"Неизвестная ошибка"}`:`Action failed: ${e.error||"Unknown error"}`)}catch(a){p.toast.error("ru"===g?"Ошибка сети при выполнении действия":"Network error during action")}finally{x(c=>({...c,[`${a}-${b}`]:!1}))}};return(0,b.jsxs)("div",{className:"card-gradient rounded-xl p-6 border border-border/50",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,b.jsx)("h2",{className:"text-xl font-bold text-foreground",children:a("servers.myServers")})}),0===s.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(e.Server,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:a("servers.noServers")}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:a("servers.createFirstDesc")})]}):(0,b.jsx)("div",{className:"space-y-4",children:s.map(m=>{let n,o=(n=m.serverPlanId,u.find(a=>a.id===n)),p=Math.ceil((new Date(m.expiresAt).getTime()-Date.now())/864e5);return(0,b.jsxs)("div",{className:"bg-background/30 rounded-lg p-4 border border-border/30 hover:border-primary/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:(0,b.jsx)(e.Server,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-foreground",children:m.serverName}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["192.168.1.",Math.floor(255*Math.random())]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Badge,{variant:"active"===m.status?"default":"secondary",className:"capitalize",children:"active"===m.status?a("servers.running"):a("servers.stopped")}),(0,b.jsxs)(l.DropdownMenu,{children:[(0,b.jsx)(l.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(c.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(f.MoreVertical,{className:"w-4 h-4"})})}),(0,b.jsxs)(l.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(l.DropdownMenuItem,{onClick:()=>y("reboot",m.id),disabled:w[`reboot-${m.id}`],className:"gap-2",children:[(0,b.jsx)(i,{className:"w-4 h-4"}),w[`reboot-${m.id}`]?(0,b.jsx)(k.RefreshCw,{className:"w-4 h-4 animate-spin"}):"ru"===g?"Перезагрузить":"Reboot"]}),(0,b.jsxs)(l.DropdownMenuItem,{onClick:()=>y("power_off",m.id),disabled:w[`power_off-${m.id}`],className:"gap-2",children:[(0,b.jsx)(h,{className:"w-4 h-4"}),w[`power_off-${m.id}`]?(0,b.jsx)(k.RefreshCw,{className:"w-4 h-4 animate-spin"}):"ru"===g?"Выключить":"Power Off"]}),(0,b.jsxs)(l.DropdownMenuItem,{onClick:()=>{let a=prompt("ru"===g?"Введите новый пароль:":"Enter new password:");a&&y("change_password",m.id,{newPassword:a})},disabled:w[`change_password-${m.id}`],className:"gap-2",children:[(0,b.jsx)(j,{className:"w-4 h-4"}),w[`change_password-${m.id}`]?(0,b.jsx)(k.RefreshCw,{className:"w-4 h-4 animate-spin"}):"ru"===g?"Сменить пароль":"Change Password"]})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a("servers.plan")}),(0,b.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[o?"ru"===g?o.nameRu:o.name:"N/A",o?.cpu&&"Dual EPYC 7702"===o.cpu&&(0,b.jsx)("span",{className:"ml-2 text-[.85em] text-muted-foreground font-normal",children:"(мес/час)"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a("plan.cpu")}),(0,b.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[o?.cores||o?.cpu||"N/A"," ",a("plan.cores")]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a("plan.ram")}),(0,b.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[o?.ram||"N/A"," GB DDR4"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a("plan.storage")}),(0,b.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[o?.storage||"N/A"," GB NVMe"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a("servers.expiresIn")}),(0,b.jsxs)("p",{className:`text-sm font-medium ${p<7?"text-destructive":"text-foreground"}`,children:[p," ",a("servers.days")]})]})]}),(0,b.jsx)("div",{className:"flex items-center justify-between pt-3 border-t border-border/30",children:(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a("servers.paid"),": ",q(r(m.pricePaid))," /"," ",a(`servers.${m.billingPeriod}`)]})})]},m.id)})})]})}a.s(["ServersList",()=>q],84713)},1664,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(84713),e=a.i(65733),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(54161),j=a.i(70106);let k=(0,j.default)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);var l=a.i(35125);let m=(0,j.default)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var n=a.i(33441);let o=(0,j.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var p=a.i(50944),q=a.i(187),r=a.i(97895);let s=(0,q.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function t({className:a,variant:c,...d}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,r.cn)(s({variant:c}),a),...d})}function u({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,r.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}var v=a.i(23236),w=a.i(18284);let x=[{id:"p1",cpu:2,ram:2,ramType:"DDR5",storage:35,storageType:"NVMe",price:6,pricePerHour:.02,name:"2 Cores | 2 GB DDR5 | 35 GB",popular:!1},{id:"p2",cpu:2,ram:4,ramType:"DDR5",storage:55,storageType:"NVMe",price:10,pricePerHour:.03,name:"2 Cores | 4 GB DDR5 | 55 GB",popular:!1},{id:"p3",cpu:4,ram:6,ramType:"DDR5",storage:85,storageType:"NVMe",price:18,pricePerHour:.04,name:"4 Cores | 6 GB DDR5 | 85 GB",popular:!1},{id:"p4",cpu:4,ram:8,ramType:"DDR5",storage:115,storageType:"NVMe",price:23,pricePerHour:.05,name:"4 Cores | 8 GB DDR5 | 115 GB",popular:!1},{id:"p5",cpu:5,ram:10,ramType:"DDR5",storage:155,storageType:"NVMe",price:29,pricePerHour:.07,name:"5 Cores | 10 GB DDR5 | 155 GB",popular:!1},{id:"p6",cpu:6,ram:12,ramType:"DDR5",storage:185,storageType:"NVMe",price:35,pricePerHour:.09,name:"6 Cores | 12 GB DDR5 | 185 GB",popular:!1},{id:"p7",cpu:8,ram:16,ramType:"DDR5",storage:275,storageType:"NVMe",price:49,pricePerHour:.11,name:"8 Cores | 16 GB DDR5 | 275 GB",popular:!1},{id:"p8",cpu:10,ram:20,ramType:"DDR5",storage:325,storageType:"NVMe",price:60,pricePerHour:.13,name:"10 Cores | 20 GB DDR5 | 325 GB",popular:!1},{id:"p9",cpu:12,ram:24,ramType:"DDR5",storage:365,storageType:"NVMe",price:75,pricePerHour:.16,name:"12 Cores | 24 GB DDR5 | 365 GB",popular:!1},{id:"p10",cpu:14,ram:28,ramType:"DDR5",storage:400,storageType:"NVMe",price:88,pricePerHour:.18,name:"14 Cores | 28 GB DDR5 | 400 GB",popular:!1},{id:"p11",cpu:16,ram:32,ramType:"DDR5",storage:500,storageType:"NVMe",price:99,pricePerHour:.2,name:"16 Cores | 32 GB DDR5 | 500 GB",popular:!1},{id:"p12",cpu:2,ram:2,ramType:"DDR4",storage:35,storageType:"NVMe",price:4,pricePerHour:.02,name:"2 Ядра | 2 GB DDR4 | 35 GB",popular:!1},{id:"p13",cpu:2,ram:4,ramType:"DDR4",storage:55,storageType:"NVMe",price:6,pricePerHour:.04,name:"2 Ядра | 4 GB DDR4 | 55 GB",popular:!1},{id:"p14",cpu:3,ram:4,ramType:"DDR4",storage:65,storageType:"NVMe",price:8,pricePerHour:.05,name:"3 Ядра | 4 GB DDR4 | 65 GB",popular:!1},{id:"p15",cpu:4,ram:6,ramType:"DDR4",storage:85,storageType:"NVMe",price:11,pricePerHour:.06,name:"4 Ядра | 6 GB DDR4 | 85 GB",popular:!1},{id:"p16",cpu:4,ram:8,ramType:"DDR4",storage:115,storageType:"NVMe",price:15,pricePerHour:.08,name:"4 Ядра | 8 GB DDR4 | 115 GB",popular:!1},{id:"p17",cpu:5,ram:10,ramType:"DDR4",storage:140,storageType:"NVMe",price:18,pricePerHour:.09,name:"5 Ядер | 10 GB DDR4 | 140 GB",popular:!1},{id:"p18",cpu:6,ram:12,ramType:"DDR4",storage:160,storageType:"NVMe",price:22,pricePerHour:.12,name:"6 Ядер | 12 GB DDR4 | 160 GB",popular:!1},{id:"p19",cpu:8,ram:16,ramType:"DDR4",storage:200,storageType:"NVMe",price:26,pricePerHour:.14,name:"8 Ядер | 16 GB DDR4 | 200 GB",popular:!1},{id:"p20",cpu:10,ram:20,ramType:"DDR4",storage:250,storageType:"NVMe",price:32,pricePerHour:.18,name:"10 Ядер | 20 GB DDR4 | 250 GB",popular:!1},{id:"p21",cpu:12,ram:24,ramType:"DDR4",storage:300,storageType:"NVMe",price:36,pricePerHour:.22,name:"12 Ядер | 24 GB DDR4 | 300 GB",popular:!1},{id:"p22",cpu:14,ram:28,ramType:"DDR4",storage:300,storageType:"NVMe",price:40,pricePerHour:.26,name:"14 Ядер | 28 GB DDR4 | 300 GB",popular:!1},{id:"p23",cpu:16,ram:32,ramType:"DDR4",storage:300,storageType:"NVMe",price:47,pricePerHour:.31,name:"16 Ядер | 32 GB DDR4 | 300 GB",popular:!1},{id:"p24",cpu:20,ram:40,ramType:"DDR4",storage:300,storageType:"NVMe",price:55,pricePerHour:.37,name:"20 Ядер | 40 GB DDR4 | 300 GB",popular:!1},{id:"p25",cpu:24,ram:48,ramType:"DDR4",storage:350,storageType:"NVMe",price:62,pricePerHour:.45,name:"24 Ядра | 48 GB DDR4 | 350 GB",popular:!1},{id:"p26",cpu:28,ram:56,ramType:"DDR4",storage:400,storageType:"NVMe",price:71,pricePerHour:.53,name:"28 Ядер | 56 GB DDR4 | 400 GB",popular:!1},{id:"p27",cpu:32,ram:64,ramType:"DDR4",storage:450,storageType:"NVMe",price:85,pricePerHour:.61,name:"32 Ядра | 64 GB DDR4 | 450 GB",popular:!1},{id:"p28",cpu:36,ram:72,ramType:"DDR4",storage:500,storageType:"NVMe",price:100,pricePerHour:.73,name:"36 Ядер | 72 GB DDR4 | 500 GB",popular:!1},{id:"p29",cpu:48,ram:96,ramType:"DDR4",storage:600,storageType:"NVMe",price:138,pricePerHour:1.03,name:"48 Ядер | 96 GB DDR4 | 600 GB",popular:!1},{id:"p30",cpu:56,ram:112,ramType:"DDR4",storage:650,storageType:"NVMe",price:156,pricePerHour:1.24,name:"56 Ядер | 112 GB DDR4 | 650 GB",popular:!1},{id:"p31",cpu:64,ram:128,ramType:"DDR4",storage:700,storageType:"NVMe",price:175,pricePerHour:1.52,name:"64 Ядра | 128 GB DDR4 | 700 GB",popular:!1},{id:"p32",cpu:72,ram:128,ramType:"DDR4",storage:700,storageType:"NVMe",price:201,pricePerHour:1.86,name:"72 Ядра | 128 GB DDR4 | 700 GB",popular:!1},{id:"p33",cpu:80,ram:132,ramType:"DDR4",storage:750,storageType:"NVMe",price:265,pricePerHour:2.25,name:"80 Ядер | 132 GB DDR4 | 750 GB",popular:!1},{id:"p34",cpu:88,ram:156,ramType:"DDR4",storage:800,storageType:"NVMe",price:289,pricePerHour:2.77,name:"88 Ядер | 156 GB DDR4 | 800 GB",popular:!1},{id:"p35",cpu:96,ram:192,ramType:"DDR4",storage:900,storageType:"NVMe",price:326,pricePerHour:3.36,name:"96 Ядер | 192 GB DDR4 | 900 GB",popular:!1},{id:"p36",cpu:112,ram:224,ramType:"DDR4",storage:1024,storageType:"NVMe",price:395,pricePerHour:5.72,name:"112 Ядер | 224 GB DDR4 | 1024 GB",popular:!1},{id:"p37",cpu:128,ram:256,ramType:"DDR4",storage:1024,storageType:"NVMe",price:445,pricePerHour:8.2,name:"128 Ядер | 256 GB DDR4 | 1024 GB",popular:!1}];function y({open:a,onOpenChange:d}){let j,{t:q}=(0,v.useLanguage)(),{currency:r,formatPrice:s}=(0,w.useCurrency)(),y=(0,p.useRouter)(),[z,A]=(0,c.useState)(x),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)("monthly"),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(0);(0,c.useEffect)(()=>{a&&(fetch("/api/profile",{cache:"no-store"}).then(a=>a.ok?a.json():{balance:0}).then(a=>K(a.balance||0)),!B&&z.length>0&&C(z[0].id))},[a]);let L=z.find(a=>a.id===B),M=L?(j=L.price,"monthly"===F?j:"quarterly"===F?3*j*.95:12*j*.9):0,N="RUB"===r?J/95<M:J<M,O=async()=>{if(!B||!D.trim())return void alert(q("servers.fillAllFields"));I(!0);try{let a=z.find(a=>a.id===B),b=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_plan_id:a?.id,billing_period:F,server_name:D})});if(!b.ok){let a=await b.json();alert(a?.error||q("servers.createError"));return}alert(q("servers.createSuccess")),d(!1),E(""),y.refresh()}catch{alert(q("servers.createError"))}finally{I(!1)}};return(0,b.jsx)(e.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(e.DialogContent,{className:"max-w-7xl max-h-[92vh] overflow-y-auto p-8 rounded-2xl",children:[(0,b.jsx)(e.DialogHeader,{children:(0,b.jsxs)(e.DialogTitle,{className:"text-3xl font-extrabold text-center mb-6",children:["⚙️ ",q("servers.createServer")]})}),(0,b.jsxs)("div",{className:"space-y-8 py-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"serverName",className:"text-lg font-semibold",children:q("servers.serverName")}),(0,b.jsx)(g.Input,{id:"serverName",placeholder:"My VPS Server",value:D,onChange:a=>E(a.target.value),className:"h-12 text-lg rounded-xl mt-2"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-lg font-semibold mb-3 block",children:q("servers.billingPeriod")}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-4",children:["monthly","quarterly","yearly"].map(a=>(0,b.jsxs)(f.Button,{type:"button",variant:F===a?"default":"outline",onClick:()=>G(a),className:`h-20 text-lg font-semibold rounded-xl flex flex-col justify-center items-center ${F===a?"shadow-md scale-105 transition-transform":""}`,children:[q(`servers.${a}`),"quarterly"===a&&(0,b.jsx)("span",{className:"text-sm opacity-80",children:"-5%"}),"yearly"===a&&(0,b.jsx)("span",{className:"text-sm opacity-80",children:"-10%"})]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-lg font-semibold mb-3 block",children:q("servers.selectPlan")}),(0,b.jsx)("div",{className:"overflow-x-auto py-4",children:(0,b.jsx)("div",{className:"flex gap-6 min-w-max",children:z.map(a=>(0,b.jsxs)("div",{onClick:()=>C(a.id),className:`relative cursor-pointer rounded-2xl border-2 p-6 transition-transform hover:shadow-xl hover:scale-[1.02] min-w-[220px] ${B===a.id?"border-primary bg-primary/5 shadow-md":"border-border/60 hover:border-primary/50"}`,children:[a.popular&&(0,b.jsx)(i.Badge,{className:"absolute -top-3 right-3 bg-gradient-to-r from-primary to-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"POPULAR"}),B===a.id&&(0,b.jsx)("div",{className:"absolute -top-3 -right-3 w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center shadow-lg",children:(0,b.jsx)(n.Check,{className:"w-5 h-5"})}),(0,b.jsx)("h3",{className:"font-bold text-lg text-center mb-4",children:a.name}),(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsxs)("div",{className:"text-2xl font-extrabold text-primary",children:["$",a.price,"/мес"]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["$",a.pricePerHour,"/час"]})]}),(0,b.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k,{className:"text-primary w-4 h-4"}),a.cpu," Cores"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(l.Server,{className:"text-primary w-4 h-4"}),a.ram," GB ",a.ramType]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m,{className:"text-primary w-4 h-4"}),a.storage," GB ",a.storageType]})]})]},a.id))})})]}),N&&L&&(0,b.jsxs)(t,{variant:"destructive",className:"text-lg",children:[(0,b.jsx)(o,{className:"h-6 w-6"}),(0,b.jsxs)(u,{children:[q("servers.insufficientBalance")," — ",q("servers.currentBalance"),": ",s("RUB"===r?J/95:J)]})]}),L&&(0,b.jsxs)("div",{className:"bg-muted/50 border rounded-2xl p-6 text-lg space-y-3 shadow-inner",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsxs)("span",{className:"text-muted-foreground",children:[q("servers.selectedPlan"),":"]}),(0,b.jsx)("span",{className:"font-semibold",children:L.name})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsxs)("span",{className:"text-muted-foreground",children:[q("servers.billingPeriod"),":"]}),(0,b.jsx)("span",{className:"font-semibold",children:q(`servers.${F}`)})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t",children:[(0,b.jsxs)("span",{className:"text-xl font-semibold",children:[q("servers.total"),":"]}),(0,b.jsx)("span",{className:"text-primary text-3xl font-extrabold",children:s(M)})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-2",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>d(!1),disabled:H,className:"flex-1 h-14 text-lg font-semibold rounded-xl",children:q("common.cancel")}),(0,b.jsx)(f.Button,{onClick:O,disabled:!B||!D.trim()||H||N,className:"flex-1 h-14 text-lg font-semibold rounded-xl bg-gradient-to-r from-primary to-blue-600 hover:opacity-90 shadow-lg",children:H?q("common.creating"):q("servers.create")})]})]})]})})}var z=a.i(15618);function A(){let{t:a}=(0,v.useLanguage)(),[e,g]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:a("servers.title")}),(0,b.jsx)("p",{className:"text-muted-foreground",children:a("servers.subtitle")})]}),(0,b.jsxs)(f.Button,{onClick:()=>window.location.assign("/dashboard/buying"),className:"bg-primary hover:bg-primary/90 gap-2",children:[(0,b.jsx)(z.Plus,{className:"w-5 h-5"}),a("servers.createServer")]})]}),(0,b.jsx)(d.ServersList,{}),(0,b.jsx)(y,{open:e,onOpenChange:g})]})}a.s(["ServersContent",()=>A],1664)}];

//# sourceMappingURL=_afe84a51._.js.map